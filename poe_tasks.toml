# Task runner configuration for airbyte-connector-models

[tasks.test]
help = "Run all tests"
cmd = "pytest"

[tasks.test-fast]
help = "Run fast tests only"
cmd = "pytest -m 'not slow'"

[tasks.lint]
help = "Run linting checks"
cmd = "ruff check ."

[tasks.format]
help = "Format code"
cmd = "ruff format ."

[tasks.format-check]
help = "Check code formatting"
cmd = "ruff format --check ."

[tasks.typecheck]
help = "Run type checking"
cmd = "basedpyright"

[tasks.check]
help = "Run all checks (lint, format, typecheck)"
sequence = ["format-check", "lint", "typecheck"]

[tasks.fix]
help = "Auto-fix linting and formatting issues"
sequence = ["format", { cmd = "ruff check --fix ." }]

[tasks.generate]
help = "Generate all connector and metadata models"
cmd = "python -m src.generate.main --all"

[tasks.generate-connector]
help = "Generate models for a specific connector"
cmd = "python -m src.generate.main --connector ${connector}"

[tasks.generate-metadata]
help = "Generate metadata models only"
cmd = "python -m src.generate.main --metadata"
